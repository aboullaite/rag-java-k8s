apiVersion: v1
kind: Service
metadata:
  name: orchestrator-public
  namespace: rag
  annotations:
    cloud.google.com/load-balancer-type: "External"
spec:
  type: LoadBalancer
  selector:
    app: orchestrator
  ports:
    - name: http
      port: 80
      targetPort: 8080

# Optional extras if you later attach a domain and want HTTPS via Google-managed certs:
#
# apiVersion: networking.gke.io/v1
# kind: ManagedCertificate
# metadata:
#   name: orchestrator-cert
#   namespace: rag
# spec:
#   domains:
#     - CHANGE_ME.your-domain.com
# ---
# apiVersion: networking.gke.io/v1
# kind: FrontendConfig
# metadata:
#   name: orchestrator-frontend
#   namespace: rag
# spec:
#   redirectToHttps:
#     enabled: true
# ---
# apiVersion: networking.k8s.io/v1
# kind: Ingress
# metadata:
#   name: orchestrator-ingress
#   namespace: rag
#   annotations:
#     networking.gke.io/managed-certificates: orchestrator-cert
#     networking.gke.io/v1beta1.FrontendConfig: orchestrator-frontend
# spec:
#   defaultBackend:
#     service:
#       name: orchestrator-public
#       port:
#         number: 80
